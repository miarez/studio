
<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Illustrator Clone</title>
      <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>


      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
      <script src="https://unpkg.com/p5.js-svg@1.3.1"></script>

      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

      <link rel="stylesheet" href="style.css">
      
      <style>
          #shapeList { list-style-type: none; margin: 0; padding: 0; width: 200px; }
          #shapeList li { margin: 2px; padding: 8px; font-size: 1.2em; height: 18px; background-color: #ccc; border: 1px solid #ddd; }
          #canvasContainer { border: 1px solid black; } /* Ensure the container is visible */


      </style>
  </head>

  <body>

    <div class="container">

      <div class="item header">header</div>
      <div class="item tools">

      <button class="tool tooltip mode-toggle">
          <i class="fas fa-arrow-right"></i>
          <span class="tooltiptext">Select</span>
      </button>

        <button class="tool tooltip" onclick="controls.reset()"><i class="fas fa-sync-alt"></i>
          <span class="tooltiptext">Reset View</span>
        </button>

        <button class="tool tooltip" onclick="exporter.svg()"><i class="fas fa-file-export"></i>
          <span class="tooltiptext">Export</span>
        </button>
      </div>
      <div class="item main" id="canvas" style="box-sizing: border-box !important;">
      </div>
      <div class="item layers">
        <ul id="shapeList"></ul>
      </div>      
      <div class="item options">
        <div id="shapeDetails" style="padding: 20px; border: 1px solid #ccc; margin-top: 20px;">
          <h3>Shape Details</h3>
          <div>No active shape</div>
      </div>
      </div>
    </div>


    <script src="Exporter.js"></script>
    <script src="UIManager.js"></script>
    <script src="Controls.js"></script>
    <script src="ShapeManager.js"></script>
    <script src="Draggable.js"></script>    
    <script src="DraggableRectangle.js"></script>    
    <script src="DraggableCircle.js"></script>    
    <script src="DraggableCustomShape.js"></script>    

    <script src="sketch.js"></script>

    <script>

function setupButton() {
    var button = document.querySelector('.mode-toggle');
    button.addEventListener('click', function() {
        toggleButton(button);
    });

    // Set up keyboard listeners
    document.addEventListener('keydown', function(event) {
        if (event.key === 'h') {
            setMode(button, 'hand');
        } else if (event.key === 'v') {
            setMode(button, 'selection');
        }
    });
}

function toggleButton(button) {
    var icon = button.querySelector('i');
    var tooltip = button.querySelector('.tooltiptext');

    // Toggle logic based on current icon
    if (icon.classList.contains('fa-arrow-right')) {
        setMode(button, 'hand');
    } else {
        setMode(button, 'selection');
    }
}

function setMode(button, mode) {
    var icon = button.querySelector('i');
    var tooltip = button.querySelector('.tooltiptext');

    if (mode === 'hand') {
        icon.classList.remove('fa-arrow-right');
        icon.classList.add('fa-hand');
        tooltip.textContent = 'Hand Pan';
        currentMode = 'hand';
    } else if (mode === 'selection') {
        icon.classList.remove('fa-hand');
        icon.classList.add('fa-arrow-right');
        tooltip.textContent = 'Select';
        currentMode = 'selection';
    }

    cs(currentMode); // Assume cs is a function defined elsewhere to change the current mode
}

// Initialize the button setup
setupButton();

    </script>

  </body>

  </html>